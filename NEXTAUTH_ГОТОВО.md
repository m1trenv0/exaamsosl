# ‚úÖ –ì–û–¢–û–í–û! NextAuth –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üî• –ß–¢–û –°–î–ï–õ–ê–ù–û:

‚úÖ **NextAuth v5 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - —Å–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ë–ï–ó Supabase Auth  
‚úÖ **–¢–∞–±–ª–∏—Ü–∞ users —Å–æ–∑–¥–∞–Ω–∞** - –ø—Ä—è–º–æ –≤ PostgreSQL  
‚úÖ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω** - email: admin@exam.local, –ø–∞—Ä–æ–ª—å: admin123  
‚úÖ **–í—Å–µ Supabase Auth —É–¥–∞–ª–µ–Ω–æ** - —Ç–æ–ª—å–∫–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ  
‚úÖ **Middleware –æ–±–Ω–æ–≤–ª–µ–Ω** - –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ NextAuth  

---

## üöÄ –ó–ê–ü–£–°–ö:

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: **http://localhost:3000/admin**

### üîê –í—Ö–æ–¥:

```
Email:    admin@exam.local
Password: admin123
```

---

## ‚ö° –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (NextAuth + PostgreSQL):
- `lib/auth.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NextAuth
- Credentials provider —Å bcrypt
- –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ —Ç–∞–±–ª–∏—Ü–µ `users` —á–µ—Ä–µ–∑ pg
- JWT —Å–µ—Å—Å–∏–∏

### 2. –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã:
- `middleware.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `/admin/dashboard/*` —Ç—Ä–µ–±—É–µ—Ç –ª–æ–≥–∏–Ω–∞
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin` –µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –¢–∞–±–ª–∏—Ü–∞ `users` —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ SQL
- –ü–∞—Ä–æ–ª—å —Ö—ç—à–∏—Ä–æ–≤–∞–Ω bcrypt (10 —Ä–∞—É–Ω–¥–æ–≤)
- –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `DIRECT_URL`

---

## üìä –°–¢–†–£–ö–¢–£–†–ê:

```
–ë–ï–ó Supabase Auth! –¢–æ–ª—å–∫–æ PostgreSQL:

users table:
- id (UUID)
- email (unique)
- password (bcrypt —Ö—ç—à)
- name
- role
- created_at

NextAuth:
- /api/auth/[...nextauth] - API —Ä–æ—É—Ç
- JWT strategy
- Credentials provider
- Session –≤ cookies
```

---

## ‚ú® –ù–ò–ö–ê–ö–ò–• API KEYS!

–¢–æ–ª—å–∫–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑:
- `DATABASE_URL` - –¥–ª—è connection pooling
- `DIRECT_URL` - –¥–ª—è –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `NEXTAUTH_SECRET` - –¥–ª—è JWT

–ù–∏–∫–∞–∫–æ–≥–æ Supabase Auth, –Ω–∏–∫–∞–∫–∏—Ö ANON_KEY!

---

## üéØ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ:

1. `npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/admin
3. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ admin@exam.local / admin123
4. Profit!

**–í–°–Å –†–ê–ë–û–¢–ê–ï–¢! –ü–†–û–°–¢–û –ü–†–Ø–ú–û–ô –ö–û–ù–ù–ï–ö–¢!** üöÄ
